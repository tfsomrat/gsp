{% if section.blocks.size > 0 %}
  <div class="container brand-logos page-width">
    <div class="row ">
      {% if section.settings.title != blank %}
        <div class="col-12 col-sm-12 text-center">
          <h2 class="title hp title-generic">
            <span>{{ section.settings.title }}</span>
          </h2>
        </div>
      {% endif %}
      <div class="brands-slider">
        {% for block in section.blocks %}
          <div class="b-logo lazy" style="background-image:url({{ block.settings.brand_logo | image_url }});">
            {%- if block.settings.brand_link != blank -%}
              <a href="{{ block.settings.brand_link }}">
              {%- endif -%}
              <img
                src="{{ 'brands_placeholder_100x.jpg' | asset_url }}"
                alt="{{ block.settings.brand_logo }}"
                width="100"
                height="75"
                loading="lazy" />
              {%- if block.settings.brand_link != blank -%}
              </a>
            {%- endif -%}
          </div>
        {% endfor %}
        {% for block in section.blocks %}
          <div class="b-logo lazy" style="background-image:url({{ block.settings.brand_logo | image_url }});">
            {%- if block.settings.brand_link != blank -%}
              <a href="{{ block.settings.brand_link }}">
              {%- endif -%}
              <img
                src="{{ 'brands_placeholder_100x.jpg' | asset_url }}"
                alt="{{ block.settings.brand_logo }}"
                width="100"
                height="75"
                loading="lazy" />
              {%- if block.settings.brand_link != blank -%}
              </a>
            {%- endif -%}
          </div>
        {% endfor %}
      </div>
    </div>
  </div>
{% endif %}

<style>
  .brand-logos {
    margin-bottom: 15px;
  }
  .template-index .shopify-section .brand-logos h2.title.hp {
    margin: 40px 0 20px;
  }
  .brand-logos img {
    opacity: 0;
  }
  .b-logo {
    width: 120px !important;
    width: 120px !important;
    border: 10px solid #fff !important;
    border-top: none !important;
    border-bottom: none !important;
  }
  .b-logo.slick-slide {
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center center;
    border-left: none;
    border-bottom: none;
  }
</style>


{% schema %}
  {
    "name": "Brand Logos",
    "class": "brand-logos",
    "settings": [
      {
        "type": "text",
        "id": "title",
        "label": "Heading",
        "default": "Top Brands"
      }, {
        "type": "checkbox",
        "id": "is_h1",
        "label": "Tick for H1"
      }
    ],
    "blocks": [
      {
        "type": "logo",
        "name": "Logo",
        "settings": [
          {
            "type": "image_picker",
            "id": "brand_logo",
            "label": "Should be at least 50px Wide"
          }, {
            "type": "url",
            "id": "brand_link",
            "label": "Brand link"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Brand Slider",
        "category": "Collection"
      }
    ]
  }
{% endschema %}

<script>
  $(document).ready(function() {

    $('.brands-slider').slick({
      infinite: true,
      slidesToShow: 6,
      slidesToScroll: 6,
      arrows: false,
      variableWidth: true,
      autoplay: true,
      speed: 25000,
      cssEase: 'linear',
      autoplaySpeed: 0,
      pauseOnFocus: false,
      pauseOnHover: false,
      responsive: [

        {
          breakpoint: 1200,
          settings: {
            centerMode: true,
            centerPadding: '40px',
            slidesToShow: 5,
            slidesToScroll: 5
          }
        }, {
          breakpoint: 920,
          settings: {
            slidesToShow: 4,
            slidesToScroll: 4
          }
        }, {
          breakpoint: 768,
          settings: {
            slidesToShow: 6,
            slidesToScroll: 6
          }
        }
      ]
    });
  });
</script>