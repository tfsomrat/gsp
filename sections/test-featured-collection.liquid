{%- assign collection = collections[section.settings.collection] -%}

<section>
  <div class="container">
    {% if section.settings.title != blank %}
      <h2 class="title hp title-generic">
        <span>{{ section.settings.title }}</span>
      </h2>
    {% endif %}
    <div class="{{ collection.handle }}-slider">
      {% liquid
        for product in collection.products limit: 12
        render 'test-product-list-item'
        endfor
      %}
    </div>

  </div>
</section>


<style>
  .{{ collection.handle }}-slider .slick-prev {
    left: -35px;
  }
  .{{ collection.handle }}-slider .slick-next {
    right: -25px;
  }
  @media(max-width: 768px) {
    .{{ collection.handle }}-slider .slick-list {
      height: auto !important;
    }
  }
</style>

<script>
  $(document).ready(function() {
    $(`.{{ collection.handle }}-slider`).slick({
      infinite: true,
      slidesToShow: 6,
      slidesToScroll: 1,
      arrows: true,
      adaptiveHeight: true,
      pauseOnHover: false,
      responsive: [
        {
          breakpoint: 1200,
          settings: {
            arrows: false,
            centerMode: true,
            centerPadding: '40px',
            slidesToShow: 4,
            slidesToScroll: 1
          }
        }, {
          breakpoint: 920,
          settings: {
            arrows: false,
            centerMode: true,
            centerPadding: '40px',
            slidesToShow: 3,
            slidesToScroll: 1
          }
        }, {
          breakpoint: 768,
          settings: {
            arrows: false,
            centerMode: true,
            centerPadding: '40px',
            slidesToShow: 1,
            slidesToScroll: 1
          }
        }
      ]
    });
  });
</script>


{% schema %}
  {
    "name": "Test Featured collection",
    "settings": [
      {
        "type": "text",
        "id": "title",
        "label": "Heading",
        "default": "Test Featured collection"
      }, {
        "id": "collection",
        "type": "collection",
        "label": "Collection"
      }
    ],
    "presets": [
      {
        "name": "Test Product List",
        "category": "Collection"
      }
    ]
  }
{% endschema %}